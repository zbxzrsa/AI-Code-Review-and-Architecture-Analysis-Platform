version: 'v1_stable'
status: 'production'
model:
  name: 'microsoft/codebert-base'
  type: 'transformers'
  device: 'cpu' # Optimized for CI/CD
  path: './model'
  fallback_enabled: true
  cache_enabled: true
  max_tokens: 512
  temperature: 0.1
analysis:
  rules:
    security:
      - 'bandit:hardcoded_passwords'
      - 'bandit:sql_injection'
      - 'bandit:insecure_deserialization'
    quality:
      - 'pylint:cyclomatic_complexity'
      - 'pylint:too_many_arguments'
      - 'pylint:missing_docstring'
    performance:
      - 'pylint:inefficient_loops'
      - 'radon:high_complexity'
  languages:
    supported: ['python', 'javascript', 'typescript', 'java']
    primary: 'python'
  focus_areas:
    - 'security'
    - 'quality'
    - 'performance'
metrics:
  avg_latency: 0.8s # Benchmark target
  accuracy: 0.85
  throughput: 100 # reviews per minute
  error_rate: 0.02
  cost_per_review: '$0.001'
  uptime: 0.999
constraints:
  max_memory: '2GB'
  timeout: 30
  max_file_size: '1MB'
  max_concurrent_requests: 10
monitoring:
  prometheus_enabled: true
  log_level: 'INFO'
  health_check_interval: 60
  alerting:
    latency_threshold: 2.0s
    error_rate_threshold: 0.05
    accuracy_threshold: 0.8
input_schema:
  code:
    type: string
    max_length: 10000
  language:
    type: string
    enum: ['python', 'javascript', 'typescript', 'java', 'cpp', 'go', 'rust']
  focus_areas:
    type: array
    items:
      type: string
      enum: ['security', 'quality', 'performance', 'style']
output_schema:
  review:
    type: string
  issues:
    type: array
    items:
      type: object
      properties:
        type:
          type: string
          enum: ['security', 'quality', 'performance', 'style']
        severity:
          type: string
          enum: ['low', 'medium', 'high', 'critical']
        line:
          type: integer
        message:
          type: string
        suggestion:
          type: string
  score:
    type: number
    minimum: 0
    maximum: 100
  confidence:
    type: number
    minimum: 0
    maximum: 1
  processing_time:
    type: number
    unit: 'seconds'
